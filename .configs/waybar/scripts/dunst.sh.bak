#!/bin/bash

notifications=$(dunstctl history -n 10 -f | awk '{ print $8 }')

if [ -n "$notifications" ]; then
    count=$(echo "$notifications" | wc -l)
    echo "{\"count\": $count, \"notifications\": $notifications}"
else
    echo "{\"count\": 0, \"notifications\": []}"
fi

